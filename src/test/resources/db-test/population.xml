<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">

    <changeSet id="populate-player_race" author="Lizogubov Eugeny">
        <preConditions>
            <tableExists tableName="player_race"/>
        </preConditions>
        <sql>
            INSERT INTO player_race(race)
            VALUES ('HUMAN'),
                   ('DWARF'),
                   ('ELF'),
                   ('GIANT'),
                   ('ORC'),
                   ('TROLL'),
                   ('HOBBIT');
        </sql>
    </changeSet>

    <changeSet id="populate-player_profession" author="Lizogubov Eugeny">
        <preConditions>
            <tableExists tableName="player_profession"/>
        </preConditions>
        <sql>
            INSERT INTO player_profession(profession)
            VALUES ('WARRIOR'),
                   ('ROGUE'),
                   ('SORCERER'),
                   ('CLERIC'),
                   ('PALADIN'),
                   ('NAZGUL'),
                   ('WARLOCK'),
                   ('DRUID');
        </sql>
    </changeSet>

    <changeSet id="populate-player" author="Lizogubov Eugeny">
        <preConditions>
            <and>
                <tableExists tableName="player_race"/>
                <tableExists tableName="player_profession"/>
                <tableExists tableName="player"/>
            </and>
        </preConditions>
        <sql splitStatements="false">
            DO
            $$
            DECLARE
            human_race_id  INTEGER;
            dwarf_race_id  INTEGER;
            elf_race_id    INTEGER;
            giant_race_id  INTEGER;
            orc_race_id    INTEGER;
            troll_race_id  INTEGER;
            hobbit_race_id INTEGER;

            warrior_profession_id  INTEGER;
            rogue_profession_id    INTEGER;
            sorcerer_profession_id INTEGER;
            cleric_profession_id   INTEGER;
            paladin_profession_id  INTEGER;
            nazgul_profession_id   INTEGER;
            warlock_profession_id  INTEGER;
            druid_profession_id    INTEGER;

            BEGIN
            SELECT id
            INTO human_race_id
            FROM player_race
            WHERE race = 'HUMAN';

            SELECT id
            INTO dwarf_race_id
            FROM player_race
            WHERE race = 'DWARF';

            SELECT id
            INTO elf_race_id
            FROM player_race
            WHERE race = 'ELF';

            SELECT id
            INTO giant_race_id
            FROM player_race
            WHERE race = 'GIANT';

            SELECT id
            INTO orc_race_id
            FROM player_race
            WHERE race = 'ORC';

            SELECT id
            INTO troll_race_id
            FROM player_race
            WHERE race = 'TROLL';

            SELECT id
            INTO hobbit_race_id
            FROM player_race
            WHERE race = 'HOBBIT';

            SELECT id
            INTO warrior_profession_id
            FROM player_profession
            WHERE profession = 'WARRIOR';

            SELECT id
            INTO rogue_profession_id
            FROM player_profession
            WHERE profession = 'ROGUE';

            SELECT id
            INTO sorcerer_profession_id
            FROM player_profession
            WHERE profession = 'SORCERER';

            SELECT id
            INTO cleric_profession_id
            FROM player_profession
            WHERE profession = 'CLERIC';

            SELECT id
            INTO paladin_profession_id
            FROM player_profession
            WHERE profession = 'PALADIN';

            SELECT id
            INTO nazgul_profession_id
            FROM player_profession
            WHERE profession = 'NAZGUL';

            SELECT id
            INTO warlock_profession_id
            FROM player_profession
            WHERE profession = 'WARLOCK';

            SELECT id
            INTO druid_profession_id
            FROM player_profession
            WHERE profession = 'DRUID';

            INSERT INTO player(name, title, race_id, profession_id, birthday, banned, experience, level,
                               until_next_level)
            VALUES ('Ниус', 'Приходящий Без Шума', hobbit_race_id, rogue_profession_id, '2010-10-12', false, 58347, 33,
                    1153),
                   ('Никрашш', 'НайтВульф', orc_race_id, warlock_profession_id, '2010-02-14', false, 174403, 58, 2597),
                   ('Эззэссэль', 'шипящая', dwarf_race_id, cleric_profession_id, '2006-02-28', true, 804, 3, 196);
            END $$;
        </sql>
    </changeSet>
</databaseChangeLog>